{"version":3,"file":"index.js","sources":["../../../src/components/Toast/index.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { ToastPortal } from './components/ToastPortal';\nimport { OptionProps, RefType } from './types';\n\nclass GlobalStore {\n    func: Array<Function>;\n\n    constructor() {\n        this.func = [];\n    }\n\n    on(listener: Function) {\n        this.func.push(listener);\n    }\n\n    emit(options: OptionProps) {\n        this.func.forEach((l) => l(options));\n    }\n}\n\nconst globalStore = new GlobalStore();\n\nexport const showToast = (content: string, options?: OptionProps) => {\n    globalStore.emit({ ...options, content });\n};\n\nexport const ToastContainer = () => {\n    const toastRef = useRef<RefType>();\n\n    useEffect(() => {\n        const listener = (options?: OptionProps) => {\n            toastRef.current?.addToast(options);\n        };\n        globalStore.on(listener);\n    }, []);\n\n    return <ToastPortal ref={toastRef} />;\n};\n"],"names":["GlobalStore","_classCallCheck","_defineProperty","func","listener","push","options","forEach","l","globalStore","showToast","content","emit","_objectSpread","ToastContainer","toastRef","useRef","useEffect","current","addToast","on","React","ToastPortal"],"mappings":";;;;;;;;;;;;IAIMA;EAGF,SAAc,WAAA,GAAA;AAAA,IAAAC,wCAAA,CAAA,IAAA,EAAA,WAAA,CAAA,CAAA;;AAAA,IAAAC,wCAAA,CAAA,IAAA,EAAA,MAAA,EAAA,KAAA,CAAA,CAAA,CAAA;;IACV,IAAKC,CAAAA,IAAL,GAAY,EAAZ,CAAA;AACH,GAAA;;;;AAED,IAAA,KAAA,EAAA,SAAA,EAAA,CAAGC,QAAH,EAAuB;AACnB,MAAA,IAAA,CAAKD,IAAL,CAAUE,IAAV,CAAeD,QAAf,CAAA,CAAA;AACH,KAAA;;;AAED,IAAA,KAAA,EAAA,SAAA,IAAA,CAAKE,OAAL,EAA2B;AACvB,MAAA,IAAA,CAAKH,IAAL,CAAUI,OAAV,CAAkB,UAACC,CAAD,EAAA;QAAA,OAAOA,CAAC,CAACF,OAAD,CAAR,CAAA;OAAlB,CAAA,CAAA;AACH,KAAA;;;;;;AAGL,IAAMG,WAAW,GAAG,IAAIT,WAAJ,EAApB,CAAA;AAEO,IAAMU,SAAS,GAAG,SAAZA,SAAY,CAACC,OAAD,EAAkBL,OAAlB,EAA4C;EACjEG,WAAW,CAACG,IAAZ,CAAAC,uCAAA,CAAAA,uCAAA,CAAA,EAAA,EAAsBP,OAAtB,CAAA,EAAA,EAAA,EAAA;AAA+BK,IAAAA,OAAO,EAAPA,OAAAA;AAA/B,GAAA,CAAA,CAAA,CAAA;AACH,EAFM;AAIMG,IAAAA,cAAc,GAAG,SAAjBA,cAAiB,GAAM;EAChC,IAAMC,QAAQ,GAAGC,YAAM,EAAvB,CAAA;AAEAC,EAAAA,eAAS,CAAC,YAAM;AACZ,IAAA,IAAMb,QAAQ,GAAG,SAAXA,QAAW,CAACE,OAAD,EAA2B;AAAA,MAAA,IAAA,iBAAA,CAAA;;AACxC,MAAA,CAAA,iBAAA,GAAAS,QAAQ,CAACG,OAAT,MAAkBC,IAAAA,IAAAA,iBAAAA,KAAAA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,iBAAAA,CAAAA,QAAlB,CAA2Bb,OAA3B,CAAA,CAAA;KADJ,CAAA;;IAGAG,WAAW,CAACW,EAAZ,CAAehB,QAAf,CAAA,CAAA;GAJK,EAKN,EALM,CAAT,CAAA;AAOA,EAAA,oBAAOiB,wCAACC,uBAAD,EAAA;AAAa,IAAA,GAAG,EAAEP,QAAAA;GAAzB,CAAA,CAAA;AACH;;;;;"}