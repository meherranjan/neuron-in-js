{"version":3,"file":"actions-1416bf77.esm.js","sources":["../../../../../node_modules/@use-gesture/core/dist/actions-1416bf77.esm.js"],"sourcesContent":["import { V, c as computeRubberband } from './maths-b2a210f4.esm.js';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nconst EVENT_TYPE_MAP = {\n  pointer: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  mouse: {\n    start: 'down',\n    change: 'move',\n    end: 'up'\n  },\n  touch: {\n    start: 'start',\n    change: 'move',\n    end: 'end'\n  },\n  gesture: {\n    start: 'start',\n    change: 'change',\n    end: 'end'\n  }\n};\n\nfunction capitalize(string) {\n  if (!string) return '';\n  return string[0].toUpperCase() + string.slice(1);\n}\n\nconst actionsWithoutCaptureSupported = ['enter', 'leave'];\n\nfunction hasCapture(capture = false, actionKey) {\n  return capture && !actionsWithoutCaptureSupported.includes(actionKey);\n}\n\nfunction toHandlerProp(device, action = '', capture = false) {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return 'on' + capitalize(device) + capitalize(actionKey) + (hasCapture(capture, actionKey) ? 'Capture' : '');\n}\nconst pointerCaptureEvents = ['gotpointercapture', 'lostpointercapture'];\nfunction parseProp(prop) {\n  let eventKey = prop.substring(2).toLowerCase();\n  const passive = !!~eventKey.indexOf('passive');\n  if (passive) eventKey = eventKey.replace('passive', '');\n  const captureKey = pointerCaptureEvents.includes(eventKey) ? 'capturecapture' : 'capture';\n  const capture = !!~eventKey.indexOf(captureKey);\n  if (capture) eventKey = eventKey.replace('capture', '');\n  return {\n    device: eventKey,\n    capture,\n    passive\n  };\n}\nfunction toDomEventType(device, action = '') {\n  const deviceProps = EVENT_TYPE_MAP[device];\n  const actionKey = deviceProps ? deviceProps[action] || action : action;\n  return device + actionKey;\n}\nfunction isTouch(event) {\n  return 'touches' in event;\n}\nfunction getPointerType(event) {\n  if (isTouch(event)) return 'touch';\n  if ('pointerType' in event) return event.pointerType;\n  return 'mouse';\n}\n\nfunction getCurrentTargetTouchList(event) {\n  return Array.from(event.touches).filter(e => {\n    var _event$currentTarget, _event$currentTarget$;\n\n    return e.target === event.currentTarget || ((_event$currentTarget = event.currentTarget) === null || _event$currentTarget === void 0 ? void 0 : (_event$currentTarget$ = _event$currentTarget.contains) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.call(_event$currentTarget, e.target));\n  });\n}\n\nfunction getTouchList(event) {\n  return event.type === 'touchend' || event.type === 'touchcancel' ? event.changedTouches : event.targetTouches;\n}\n\nfunction getValueEvent(event) {\n  return isTouch(event) ? getTouchList(event)[0] : event;\n}\n\nfunction distanceAngle(P1, P2) {\n  const dx = P2.clientX - P1.clientX;\n  const dy = P2.clientY - P1.clientY;\n  const cx = (P2.clientX + P1.clientX) / 2;\n  const cy = (P2.clientY + P1.clientY) / 2;\n  const distance = Math.hypot(dx, dy);\n  const angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n  const origin = [cx, cy];\n  return {\n    angle,\n    distance,\n    origin\n  };\n}\nfunction touchIds(event) {\n  return getCurrentTargetTouchList(event).map(touch => touch.identifier);\n}\nfunction touchDistanceAngle(event, ids) {\n  const [P1, P2] = Array.from(event.touches).filter(touch => ids.includes(touch.identifier));\n  return distanceAngle(P1, P2);\n}\nfunction pointerId(event) {\n  const valueEvent = getValueEvent(event);\n  return isTouch(event) ? valueEvent.identifier : valueEvent.pointerId;\n}\nfunction pointerValues(event) {\n  const valueEvent = getValueEvent(event);\n  return [valueEvent.clientX, valueEvent.clientY];\n}\nconst LINE_HEIGHT = 40;\nconst PAGE_HEIGHT = 800;\nfunction wheelValues(event) {\n  let {\n    deltaX,\n    deltaY,\n    deltaMode\n  } = event;\n\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n\n  return [deltaX, deltaY];\n}\nfunction scrollValues(event) {\n  var _ref, _ref2;\n\n  const {\n    scrollX,\n    scrollY,\n    scrollLeft,\n    scrollTop\n  } = event.currentTarget;\n  return [(_ref = scrollX !== null && scrollX !== void 0 ? scrollX : scrollLeft) !== null && _ref !== void 0 ? _ref : 0, (_ref2 = scrollY !== null && scrollY !== void 0 ? scrollY : scrollTop) !== null && _ref2 !== void 0 ? _ref2 : 0];\n}\nfunction getEventDetails(event) {\n  const payload = {};\n  if ('buttons' in event) payload.buttons = event.buttons;\n\n  if ('shiftKey' in event) {\n    const {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    } = event;\n    Object.assign(payload, {\n      shiftKey,\n      altKey,\n      metaKey,\n      ctrlKey\n    });\n  }\n\n  return payload;\n}\n\nfunction call(v, ...args) {\n  if (typeof v === 'function') {\n    return v(...args);\n  } else {\n    return v;\n  }\n}\nfunction noop() {}\nfunction chain(...fns) {\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    let result;\n\n    for (const fn of fns) {\n      result = fn.apply(this, arguments) || result;\n    }\n\n    return result;\n  };\n}\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n\nconst BEFORE_LAST_KINEMATICS_DELAY = 32;\nclass Engine {\n  constructor(ctrl, args, key) {\n    this.ctrl = ctrl;\n    this.args = args;\n    this.key = key;\n\n    if (!this.state) {\n      this.state = {};\n      this.computeValues([0, 0]);\n      this.computeInitial();\n      if (this.init) this.init();\n      this.reset();\n    }\n  }\n\n  get state() {\n    return this.ctrl.state[this.key];\n  }\n\n  set state(state) {\n    this.ctrl.state[this.key] = state;\n  }\n\n  get shared() {\n    return this.ctrl.state.shared;\n  }\n\n  get eventStore() {\n    return this.ctrl.gestureEventStores[this.key];\n  }\n\n  get timeoutStore() {\n    return this.ctrl.gestureTimeoutStores[this.key];\n  }\n\n  get config() {\n    return this.ctrl.config[this.key];\n  }\n\n  get sharedConfig() {\n    return this.ctrl.config.shared;\n  }\n\n  get handler() {\n    return this.ctrl.handlers[this.key];\n  }\n\n  reset() {\n    const {\n      state,\n      shared,\n      ingKey,\n      args\n    } = this;\n    shared[ingKey] = state._active = state.active = state._blocked = state._force = false;\n    state._step = [false, false];\n    state.intentional = false;\n    state._movement = [0, 0];\n    state._distance = [0, 0];\n    state._direction = [0, 0];\n    state._delta = [0, 0];\n    state._bounds = [[-Infinity, Infinity], [-Infinity, Infinity]];\n    state.args = args;\n    state.axis = undefined;\n    state.memo = undefined;\n    state.elapsedTime = 0;\n    state.direction = [0, 0];\n    state.distance = [0, 0];\n    state.overflow = [0, 0];\n    state._movementBound = [false, false];\n    state.velocity = [0, 0];\n    state.movement = [0, 0];\n    state.delta = [0, 0];\n    state.timeStamp = 0;\n  }\n\n  start(event) {\n    const state = this.state;\n    const config = this.config;\n\n    if (!state._active) {\n      this.reset();\n      this.computeInitial();\n      state._active = true;\n      state.target = event.target;\n      state.currentTarget = event.currentTarget;\n      state.lastOffset = config.from ? call(config.from, state) : state.offset;\n      state.offset = state.lastOffset;\n    }\n\n    state.startTime = state.timeStamp = event.timeStamp;\n  }\n\n  computeValues(values) {\n    const state = this.state;\n    state._values = values;\n    state.values = this.config.transform(values);\n  }\n\n  computeInitial() {\n    const state = this.state;\n    state._initial = state._values;\n    state.initial = state.values;\n  }\n\n  compute(event) {\n    const {\n      state,\n      config,\n      shared\n    } = this;\n    state.args = this.args;\n    let dt = 0;\n\n    if (event) {\n      state.event = event;\n      if (config.preventDefault && event.cancelable) state.event.preventDefault();\n      state.type = event.type;\n      shared.touches = this.ctrl.pointerIds.size || this.ctrl.touchIds.size;\n      shared.locked = !!document.pointerLockElement;\n      Object.assign(shared, getEventDetails(event));\n      shared.down = shared.pressed = shared.buttons % 2 === 1 || shared.touches > 0;\n      dt = event.timeStamp - state.timeStamp;\n      state.timeStamp = event.timeStamp;\n      state.elapsedTime = state.timeStamp - state.startTime;\n    }\n\n    if (state._active) {\n      const _absoluteDelta = state._delta.map(Math.abs);\n\n      V.addTo(state._distance, _absoluteDelta);\n    }\n\n    if (this.axisIntent) this.axisIntent(event);\n    const [_m0, _m1] = state._movement;\n    const [t0, t1] = config.threshold;\n    const {\n      _step,\n      values\n    } = state;\n\n    if (config.hasCustomTransform) {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && values[0];\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && values[1];\n    } else {\n      if (_step[0] === false) _step[0] = Math.abs(_m0) >= t0 && Math.sign(_m0) * t0;\n      if (_step[1] === false) _step[1] = Math.abs(_m1) >= t1 && Math.sign(_m1) * t1;\n    }\n\n    state.intentional = _step[0] !== false || _step[1] !== false;\n    if (!state.intentional) return;\n    const movement = [0, 0];\n\n    if (config.hasCustomTransform) {\n      const [v0, v1] = values;\n      movement[0] = _step[0] !== false ? v0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? v1 - _step[1] : 0;\n    } else {\n      movement[0] = _step[0] !== false ? _m0 - _step[0] : 0;\n      movement[1] = _step[1] !== false ? _m1 - _step[1] : 0;\n    }\n\n    if (this.restrictToAxis && !state._blocked) this.restrictToAxis(movement);\n    const previousOffset = state.offset;\n    const gestureIsActive = state._active && !state._blocked || state.active;\n\n    if (gestureIsActive) {\n      state.first = state._active && !state.active;\n      state.last = !state._active && state.active;\n      state.active = shared[this.ingKey] = state._active;\n\n      if (event) {\n        if (state.first) {\n          if ('bounds' in config) state._bounds = call(config.bounds, state);\n          if (this.setup) this.setup();\n        }\n\n        state.movement = movement;\n        this.computeOffset();\n      }\n    }\n\n    const [ox, oy] = state.offset;\n    const [[x0, x1], [y0, y1]] = state._bounds;\n    state.overflow = [ox < x0 ? -1 : ox > x1 ? 1 : 0, oy < y0 ? -1 : oy > y1 ? 1 : 0];\n    state._movementBound[0] = state.overflow[0] ? state._movementBound[0] === false ? state._movement[0] : state._movementBound[0] : false;\n    state._movementBound[1] = state.overflow[1] ? state._movementBound[1] === false ? state._movement[1] : state._movementBound[1] : false;\n    const rubberband = state._active ? config.rubberband || [0, 0] : [0, 0];\n    state.offset = computeRubberband(state._bounds, state.offset, rubberband);\n    state.delta = V.sub(state.offset, previousOffset);\n    this.computeMovement();\n\n    if (gestureIsActive && (!state.last || dt > BEFORE_LAST_KINEMATICS_DELAY)) {\n      state.delta = V.sub(state.offset, previousOffset);\n      const absoluteDelta = state.delta.map(Math.abs);\n      V.addTo(state.distance, absoluteDelta);\n      state.direction = state.delta.map(Math.sign);\n      state._direction = state._delta.map(Math.sign);\n\n      if (!state.first && dt > 0) {\n        state.velocity = [absoluteDelta[0] / dt, absoluteDelta[1] / dt];\n      }\n    }\n  }\n\n  emit() {\n    const state = this.state;\n    const shared = this.shared;\n    const config = this.config;\n    if (!state._active) this.clean();\n    if ((state._blocked || !state.intentional) && !state._force && !config.triggerAllEvents) return;\n    const memo = this.handler(_objectSpread2(_objectSpread2(_objectSpread2({}, shared), state), {}, {\n      [this.aliasKey]: state.values\n    }));\n    if (memo !== undefined) state.memo = memo;\n  }\n\n  clean() {\n    this.eventStore.clean();\n    this.timeoutStore.clean();\n  }\n\n}\n\nfunction selectAxis([dx, dy], threshold) {\n  const absDx = Math.abs(dx);\n  const absDy = Math.abs(dy);\n\n  if (absDx > absDy && absDx > threshold) {\n    return 'x';\n  }\n\n  if (absDy > absDx && absDy > threshold) {\n    return 'y';\n  }\n\n  return undefined;\n}\n\nclass CoordinatesEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"aliasKey\", 'xy');\n  }\n\n  reset() {\n    super.reset();\n    this.state.axis = undefined;\n  }\n\n  init() {\n    this.state.offset = [0, 0];\n    this.state.lastOffset = [0, 0];\n  }\n\n  computeOffset() {\n    this.state.offset = V.add(this.state.lastOffset, this.state.movement);\n  }\n\n  computeMovement() {\n    this.state.movement = V.sub(this.state.offset, this.state.lastOffset);\n  }\n\n  axisIntent(event) {\n    const state = this.state;\n    const config = this.config;\n\n    if (!state.axis && event) {\n      const threshold = typeof config.axisThreshold === 'object' ? config.axisThreshold[getPointerType(event)] : config.axisThreshold;\n      state.axis = selectAxis(state._movement, threshold);\n    }\n\n    state._blocked = (config.lockDirection || !!config.axis) && !state.axis || !!config.axis && config.axis !== state.axis;\n  }\n\n  restrictToAxis(v) {\n    if (this.config.axis || this.config.lockDirection) {\n      switch (this.state.axis) {\n        case 'x':\n          v[1] = 0;\n          break;\n\n        case 'y':\n          v[0] = 0;\n          break;\n      }\n    }\n  }\n\n}\n\nconst identity = v => v;\nconst DEFAULT_RUBBERBAND = 0.15;\nconst commonConfigResolver = {\n  enabled(value = true) {\n    return value;\n  },\n\n  eventOptions(value, _k, config) {\n    return _objectSpread2(_objectSpread2({}, config.shared.eventOptions), value);\n  },\n\n  preventDefault(value = false) {\n    return value;\n  },\n\n  triggerAllEvents(value = false) {\n    return value;\n  },\n\n  rubberband(value = 0) {\n    switch (value) {\n      case true:\n        return [DEFAULT_RUBBERBAND, DEFAULT_RUBBERBAND];\n\n      case false:\n        return [0, 0];\n\n      default:\n        return V.toVector(value);\n    }\n  },\n\n  from(value) {\n    if (typeof value === 'function') return value;\n    if (value != null) return V.toVector(value);\n  },\n\n  transform(value, _k, config) {\n    const transform = value || config.shared.transform;\n    this.hasCustomTransform = !!transform;\n\n    if (process.env.NODE_ENV === 'development') {\n      const originalTransform = transform || identity;\n      return v => {\n        const r = originalTransform(v);\n\n        if (!isFinite(r[0]) || !isFinite(r[1])) {\n          console.warn(`[@use-gesture]: config.transform() must produce a valid result, but it was: [${r[0]},${[1]}]`);\n        }\n\n        return r;\n      };\n    }\n\n    return transform || identity;\n  },\n\n  threshold(value) {\n    return V.toVector(value, 0);\n  }\n\n};\n\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(commonConfigResolver, {\n    domTarget(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`domTarget\\` option has been renamed to \\`target\\`.`);\n      }\n\n      return NaN;\n    },\n\n    lockDirection(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`lockDirection\\` option has been merged with \\`axis\\`. Use it as in \\`{ axis: 'lock' }\\``);\n      }\n\n      return NaN;\n    },\n\n    initial(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`initial\\` option has been renamed to \\`from\\`.`);\n      }\n\n      return NaN;\n    }\n\n  });\n}\n\nconst DEFAULT_AXIS_THRESHOLD = 0;\nconst coordinatesConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  axis(_v, _k, {\n    axis\n  }) {\n    this.lockDirection = axis === 'lock';\n    if (!this.lockDirection) return axis;\n  },\n\n  axisThreshold(value = DEFAULT_AXIS_THRESHOLD) {\n    return value;\n  },\n\n  bounds(value = {}) {\n    if (typeof value === 'function') {\n      return state => coordinatesConfigResolver.bounds(value(state));\n    }\n\n    if ('current' in value) {\n      return () => value.current;\n    }\n\n    if (typeof HTMLElement === 'function' && value instanceof HTMLElement) {\n      return value;\n    }\n\n    const {\n      left = -Infinity,\n      right = Infinity,\n      top = -Infinity,\n      bottom = Infinity\n    } = value;\n    return [[left, right], [top, bottom]];\n  }\n\n});\n\nconst DISPLACEMENT = 10;\nconst KEYS_DELTA_MAP = {\n  ArrowRight: (factor = 1) => [DISPLACEMENT * factor, 0],\n  ArrowLeft: (factor = 1) => [-DISPLACEMENT * factor, 0],\n  ArrowUp: (factor = 1) => [0, -DISPLACEMENT * factor],\n  ArrowDown: (factor = 1) => [0, DISPLACEMENT * factor]\n};\nclass DragEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'dragging');\n  }\n\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._pointerId = undefined;\n    state._pointerActive = false;\n    state._keyboardActive = false;\n    state._preventScroll = false;\n    state._delayed = false;\n    state.swipe = [0, 0];\n    state.tap = false;\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n  }\n\n  setup() {\n    const state = this.state;\n\n    if (state._bounds instanceof HTMLElement) {\n      const boundRect = state._bounds.getBoundingClientRect();\n\n      const targetRect = state.currentTarget.getBoundingClientRect();\n      const _bounds = {\n        left: boundRect.left - targetRect.left + state.offset[0],\n        right: boundRect.right - targetRect.right + state.offset[0],\n        top: boundRect.top - targetRect.top + state.offset[1],\n        bottom: boundRect.bottom - targetRect.bottom + state.offset[1]\n      };\n      state._bounds = coordinatesConfigResolver.bounds(_bounds);\n    }\n  }\n\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    state.canceled = true;\n    state._active = false;\n    setTimeout(() => {\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n\n  setActive() {\n    this.state._active = this.state._pointerActive || this.state._keyboardActive;\n  }\n\n  clean() {\n    this.pointerClean();\n    this.state._pointerActive = false;\n    this.state._keyboardActive = false;\n    super.clean();\n  }\n\n  pointerDown(event) {\n    const config = this.config;\n    const state = this.state;\n    if (event.buttons != null && (Array.isArray(config.pointerButtons) ? !config.pointerButtons.includes(event.buttons) : config.pointerButtons !== -1 && config.pointerButtons !== event.buttons)) return;\n    const ctrlIds = this.ctrl.setEventIds(event);\n\n    if (config.pointerCapture) {\n      event.target.setPointerCapture(event.pointerId);\n    }\n\n    if (ctrlIds && ctrlIds.size > 1 && state._pointerActive) return;\n    this.start(event);\n    this.setupPointer(event);\n    state._pointerId = pointerId(event);\n    state._pointerActive = true;\n    this.computeValues(pointerValues(event));\n    this.computeInitial();\n\n    if (config.preventScrollAxis && getPointerType(event) !== 'mouse') {\n      state._active = false;\n      this.setupScrollPrevention(event);\n    } else if (config.delay > 0) {\n      this.setupDelayTrigger(event);\n\n      if (config.triggerAllEvents) {\n        this.compute(event);\n        this.emit();\n      }\n    } else {\n      this.startPointerDrag(event);\n    }\n  }\n\n  startPointerDrag(event) {\n    const state = this.state;\n    state._active = true;\n    state._preventScroll = true;\n    state._delayed = false;\n    this.compute(event);\n    this.emit();\n  }\n\n  pointerMove(event) {\n    const state = this.state;\n    const config = this.config;\n    if (!state._pointerActive) return;\n    if (state.type === event.type && event.timeStamp === state.timeStamp) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n\n    const _values = pointerValues(event);\n\n    if (document.pointerLockElement === event.target) {\n      state._delta = [event.movementX, event.movementY];\n    } else {\n      state._delta = V.sub(_values, state._values);\n      this.computeValues(_values);\n    }\n\n    V.addTo(state._movement, state._delta);\n    this.compute(event);\n\n    if (state._delayed && state.intentional) {\n      this.timeoutStore.remove('dragDelay');\n      state.active = false;\n      this.startPointerDrag(event);\n      return;\n    }\n\n    if (config.preventScrollAxis && !state._preventScroll) {\n      if (state.axis) {\n        if (state.axis === config.preventScrollAxis || config.preventScrollAxis === 'xy') {\n          state._active = false;\n          this.clean();\n          return;\n        } else {\n          this.timeoutStore.remove('startPointerDrag');\n          this.startPointerDrag(event);\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n\n    this.emit();\n  }\n\n  pointerUp(event) {\n    this.ctrl.setEventIds(event);\n\n    try {\n      if (this.config.pointerCapture && event.target.hasPointerCapture(event.pointerId)) {\n        ;\n        event.target.releasePointerCapture(event.pointerId);\n      }\n    } catch (_unused) {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(`[@use-gesture]: If you see this message, it's likely that you're using an outdated version of \\`@react-three/fiber\\`. \\n\\nPlease upgrade to the latest version.`);\n      }\n    }\n\n    const state = this.state;\n    const config = this.config;\n    if (!state._active || !state._pointerActive) return;\n    const id = pointerId(event);\n    if (state._pointerId !== undefined && id !== state._pointerId) return;\n    this.state._pointerActive = false;\n    this.setActive();\n    this.compute(event);\n    const [dx, dy] = state._distance;\n    state.tap = dx <= config.tapsThreshold && dy <= config.tapsThreshold;\n\n    if (state.tap && config.filterTaps) {\n      state._force = true;\n    } else {\n      const [dirx, diry] = state.direction;\n      const [vx, vy] = state.velocity;\n      const [mx, my] = state.movement;\n      const [svx, svy] = config.swipe.velocity;\n      const [sx, sy] = config.swipe.distance;\n      const sdt = config.swipe.duration;\n\n      if (state.elapsedTime < sdt) {\n        if (Math.abs(vx) > svx && Math.abs(mx) > sx) state.swipe[0] = dirx;\n        if (Math.abs(vy) > svy && Math.abs(my) > sy) state.swipe[1] = diry;\n      }\n    }\n\n    this.emit();\n  }\n\n  pointerClick(event) {\n    if (!this.state.tap) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  setupPointer(event) {\n    const config = this.config;\n    const device = config.device;\n\n    if (process.env.NODE_ENV === 'development') {\n      try {\n        if (device === 'pointer' && config.preventScrollDelay === undefined) {\n          const currentTarget = 'uv' in event ? event.sourceEvent.currentTarget : event.currentTarget;\n          const style = window.getComputedStyle(currentTarget);\n\n          if (style.touchAction === 'auto') {\n            console.warn(`[@use-gesture]: The drag target has its \\`touch-action\\` style property set to \\`auto\\`. It is recommended to add \\`touch-action: 'none'\\` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\\n\\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.`, currentTarget);\n          }\n        }\n      } catch (_unused2) {}\n    }\n\n    if (config.pointerLock) {\n      event.currentTarget.requestPointerLock();\n    }\n\n    if (!config.pointerCapture) {\n      this.eventStore.add(this.sharedConfig.window, device, 'change', this.pointerMove.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'end', this.pointerUp.bind(this));\n      this.eventStore.add(this.sharedConfig.window, device, 'cancel', this.pointerUp.bind(this));\n    }\n  }\n\n  pointerClean() {\n    if (this.config.pointerLock && document.pointerLockElement === this.state.currentTarget) {\n      document.exitPointerLock();\n    }\n  }\n\n  preventScroll(event) {\n    if (this.state._preventScroll && event.cancelable) {\n      event.preventDefault();\n    }\n  }\n\n  setupScrollPrevention(event) {\n    this.state._preventScroll = false;\n    persistEvent(event);\n    const remove = this.eventStore.add(this.sharedConfig.window, 'touch', 'change', this.preventScroll.bind(this), {\n      passive: false\n    });\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'end', remove);\n    this.eventStore.add(this.sharedConfig.window, 'touch', 'cancel', remove);\n    this.timeoutStore.add('startPointerDrag', this.startPointerDrag.bind(this), this.config.preventScrollDelay, event);\n  }\n\n  setupDelayTrigger(event) {\n    this.state._delayed = true;\n    this.timeoutStore.add('dragDelay', () => {\n      this.state._step = [0, 0];\n      this.startPointerDrag(event);\n    }, this.config.delay);\n  }\n\n  keyDown(event) {\n    const deltaFn = KEYS_DELTA_MAP[event.key];\n\n    if (deltaFn) {\n      const state = this.state;\n      const factor = event.shiftKey ? 10 : event.altKey ? 0.1 : 1;\n      this.start(event);\n      state._delta = deltaFn(factor);\n      state._keyboardActive = true;\n      V.addTo(state._movement, state._delta);\n      this.compute(event);\n      this.emit();\n    }\n  }\n\n  keyUp(event) {\n    if (!(event.key in KEYS_DELTA_MAP)) return;\n    this.state._keyboardActive = false;\n    this.setActive();\n    this.compute(event);\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    const device = this.config.device;\n    bindFunction(device, 'start', this.pointerDown.bind(this));\n\n    if (this.config.pointerCapture) {\n      bindFunction(device, 'change', this.pointerMove.bind(this));\n      bindFunction(device, 'end', this.pointerUp.bind(this));\n      bindFunction(device, 'cancel', this.pointerUp.bind(this));\n      bindFunction('lostPointerCapture', '', this.pointerUp.bind(this));\n    }\n\n    bindFunction('key', 'down', this.keyDown.bind(this));\n    bindFunction('key', 'up', this.keyUp.bind(this));\n\n    if (this.config.filterTaps) {\n      bindFunction('click', '', this.pointerClick.bind(this), {\n        capture: true,\n        passive: false\n      });\n    }\n  }\n\n}\n\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nconst isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\n\nfunction supportsTouchEvents() {\n  return isBrowser && 'ontouchstart' in window;\n}\n\nfunction isTouchScreen() {\n  return supportsTouchEvents() || isBrowser && window.navigator.maxTouchPoints > 1;\n}\n\nfunction supportsPointerEvents() {\n  return isBrowser && 'onpointerdown' in window;\n}\n\nfunction supportsPointerLock() {\n  return isBrowser && 'exitPointerLock' in window.document;\n}\n\nfunction supportsGestureEvents() {\n  try {\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst SUPPORT = {\n  isBrowser,\n  gesture: supportsGestureEvents(),\n  touch: isTouchScreen(),\n  touchscreen: isTouchScreen(),\n  pointer: supportsPointerEvents(),\n  pointerLock: supportsPointerLock()\n};\n\nconst DEFAULT_PREVENT_SCROLL_DELAY = 250;\nconst DEFAULT_DRAG_DELAY = 180;\nconst DEFAULT_SWIPE_VELOCITY = 0.5;\nconst DEFAULT_SWIPE_DISTANCE = 50;\nconst DEFAULT_SWIPE_DURATION = 250;\nconst DEFAULT_DRAG_AXIS_THRESHOLD = {\n  mouse: 0,\n  touch: 0,\n  pen: 8\n};\nconst dragConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  device(_v, _k, {\n    pointer: {\n      touch = false,\n      lock = false,\n      mouse = false\n    } = {}\n  }) {\n    this.pointerLock = lock && SUPPORT.pointerLock;\n    if (SUPPORT.touch && touch) return 'touch';\n    if (this.pointerLock) return 'mouse';\n    if (SUPPORT.pointer && !mouse) return 'pointer';\n    if (SUPPORT.touch) return 'touch';\n    return 'mouse';\n  },\n\n  preventScrollAxis(value, _k, {\n    preventScroll\n  }) {\n    this.preventScrollDelay = typeof preventScroll === 'number' ? preventScroll : preventScroll || preventScroll === undefined && value ? DEFAULT_PREVENT_SCROLL_DELAY : undefined;\n    if (!SUPPORT.touchscreen || preventScroll === false) return undefined;\n    return value ? value : preventScroll !== undefined ? 'y' : undefined;\n  },\n\n  pointerCapture(_v, _k, {\n    pointer: {\n      capture = true,\n      buttons = 1\n    } = {}\n  }) {\n    this.pointerButtons = buttons;\n    return !this.pointerLock && this.device === 'pointer' && capture;\n  },\n\n  threshold(value, _k, {\n    filterTaps = false,\n    tapsThreshold = 3,\n    axis = undefined\n  }) {\n    const threshold = V.toVector(value, filterTaps ? tapsThreshold : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    this.tapsThreshold = tapsThreshold;\n    return threshold;\n  },\n\n  swipe({\n    velocity = DEFAULT_SWIPE_VELOCITY,\n    distance = DEFAULT_SWIPE_DISTANCE,\n    duration = DEFAULT_SWIPE_DURATION\n  } = {}) {\n    return {\n      velocity: this.transform(V.toVector(velocity)),\n      distance: this.transform(V.toVector(distance)),\n      duration\n    };\n  },\n\n  delay(value = 0) {\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n\n      case false:\n        return 0;\n\n      default:\n        return value;\n    }\n  },\n\n  axisThreshold(value) {\n    if (!value) return DEFAULT_DRAG_AXIS_THRESHOLD;\n    return _objectSpread2(_objectSpread2({}, DEFAULT_DRAG_AXIS_THRESHOLD), value);\n  }\n\n});\n\nif (process.env.NODE_ENV === 'development') {\n  Object.assign(dragConfigResolver, {\n    useTouch(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`useTouch\\` option has been renamed to \\`pointer.touch\\`. Use it as in \\`{ pointer: { touch: true } }\\`.`);\n      }\n\n      return NaN;\n    },\n\n    experimental_preventWindowScrollY(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`experimental_preventWindowScrollY\\` option has been renamed to \\`preventScroll\\`.`);\n      }\n\n      return NaN;\n    },\n\n    swipeVelocity(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeVelocity\\` option has been renamed to \\`swipe.velocity\\`. Use it as in \\`{ swipe: { velocity: 0.5 } }\\`.`);\n      }\n\n      return NaN;\n    },\n\n    swipeDistance(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDistance\\` option has been renamed to \\`swipe.distance\\`. Use it as in \\`{ swipe: { distance: 50 } }\\`.`);\n      }\n\n      return NaN;\n    },\n\n    swipeDuration(value) {\n      if (value !== undefined) {\n        throw Error(`[@use-gesture]: \\`swipeDuration\\` option has been renamed to \\`swipe.duration\\`. Use it as in \\`{ swipe: { duration: 250 } }\\`.`);\n      }\n\n      return NaN;\n    }\n\n  });\n}\n\nconst SCALE_ANGLE_RATIO_INTENT_DEG = 30;\nconst PINCH_WHEEL_RATIO = 100;\nclass PinchEngine extends Engine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'pinching');\n\n    _defineProperty(this, \"aliasKey\", 'da');\n  }\n\n  init() {\n    this.state.offset = [1, 0];\n    this.state.lastOffset = [1, 0];\n    this.state._pointerEvents = new Map();\n  }\n\n  reset() {\n    super.reset();\n    const state = this.state;\n    state._touchIds = [];\n    state.canceled = false;\n    state.cancel = this.cancel.bind(this);\n    state.turns = 0;\n  }\n\n  computeOffset() {\n    const {\n      type,\n      movement,\n      lastOffset\n    } = this.state;\n\n    if (type === 'wheel') {\n      this.state.offset = V.add(movement, lastOffset);\n    } else {\n      this.state.offset = [(1 + movement[0]) * lastOffset[0], movement[1] + lastOffset[1]];\n    }\n  }\n\n  computeMovement() {\n    const {\n      offset,\n      lastOffset\n    } = this.state;\n    this.state.movement = [offset[0] / lastOffset[0], offset[1] - lastOffset[1]];\n  }\n\n  axisIntent() {\n    const state = this.state;\n    const [_m0, _m1] = state._movement;\n\n    if (!state.axis) {\n      const axisMovementDifference = Math.abs(_m0) * SCALE_ANGLE_RATIO_INTENT_DEG - Math.abs(_m1);\n      if (axisMovementDifference < 0) state.axis = 'angle';else if (axisMovementDifference > 0) state.axis = 'scale';\n    }\n  }\n\n  restrictToAxis(v) {\n    if (this.config.lockDirection) {\n      if (this.state.axis === 'scale') v[1] = 0;else if (this.state.axis === 'angle') v[0] = 0;\n    }\n  }\n\n  cancel() {\n    const state = this.state;\n    if (state.canceled) return;\n    setTimeout(() => {\n      state.canceled = true;\n      state._active = false;\n      this.compute();\n      this.emit();\n    }, 0);\n  }\n\n  touchStart(event) {\n    this.ctrl.setEventIds(event);\n    const state = this.state;\n    const ctrlTouchIds = this.ctrl.touchIds;\n\n    if (state._active) {\n      if (state._touchIds.every(id => ctrlTouchIds.has(id))) return;\n    }\n\n    if (ctrlTouchIds.size < 2) return;\n    this.start(event);\n    state._touchIds = Array.from(ctrlTouchIds).slice(0, 2);\n    const payload = touchDistanceAngle(event, state._touchIds);\n    this.pinchStart(event, payload);\n  }\n\n  pointerStart(event) {\n    if (event.buttons != null && event.buttons % 2 !== 1) return;\n    this.ctrl.setEventIds(event);\n    event.target.setPointerCapture(event.pointerId);\n    const state = this.state;\n    const _pointerEvents = state._pointerEvents;\n    const ctrlPointerIds = this.ctrl.pointerIds;\n\n    if (state._active) {\n      if (Array.from(_pointerEvents.keys()).every(id => ctrlPointerIds.has(id))) return;\n    }\n\n    if (_pointerEvents.size < 2) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n\n    if (state._pointerEvents.size < 2) return;\n    this.start(event);\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchStart(event, payload);\n  }\n\n  pinchStart(event, payload) {\n    const state = this.state;\n    state.origin = payload.origin;\n    this.computeValues([payload.distance, payload.angle]);\n    this.computeInitial();\n    this.compute(event);\n    this.emit();\n  }\n\n  touchMove(event) {\n    if (!this.state._active) return;\n    const payload = touchDistanceAngle(event, this.state._touchIds);\n    this.pinchMove(event, payload);\n  }\n\n  pointerMove(event) {\n    const _pointerEvents = this.state._pointerEvents;\n\n    if (_pointerEvents.has(event.pointerId)) {\n      _pointerEvents.set(event.pointerId, event);\n    }\n\n    if (!this.state._active) return;\n    const payload = distanceAngle(...Array.from(_pointerEvents.values()));\n    this.pinchMove(event, payload);\n  }\n\n  pinchMove(event, payload) {\n    const state = this.state;\n    const prev_a = state._values[1];\n    const delta_a = payload.angle - prev_a;\n    let delta_turns = 0;\n    if (Math.abs(delta_a) > 270) delta_turns += Math.sign(delta_a);\n    this.computeValues([payload.distance, payload.angle - 360 * delta_turns]);\n    state.origin = payload.origin;\n    state.turns = delta_turns;\n    state._movement = [state._values[0] / state._initial[0] - 1, state._values[1] - state._initial[1]];\n    this.compute(event);\n    this.emit();\n  }\n\n  touchEnd(event) {\n    this.ctrl.setEventIds(event);\n    if (!this.state._active) return;\n\n    if (this.state._touchIds.some(id => !this.ctrl.touchIds.has(id))) {\n      this.state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n\n  pointerEnd(event) {\n    const state = this.state;\n    this.ctrl.setEventIds(event);\n\n    try {\n      event.target.releasePointerCapture(event.pointerId);\n    } catch (_unused) {}\n\n    if (state._pointerEvents.has(event.pointerId)) {\n      state._pointerEvents.delete(event.pointerId);\n    }\n\n    if (!state._active) return;\n\n    if (state._pointerEvents.size < 2) {\n      state._active = false;\n      this.compute(event);\n      this.emit();\n    }\n  }\n\n  gestureStart(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    if (state._active) return;\n    this.start(event);\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n\n  gestureMove(event) {\n    if (event.cancelable) event.preventDefault();\n    if (!this.state._active) return;\n    const state = this.state;\n    this.computeValues([event.scale, event.rotation]);\n    state.origin = [event.clientX, event.clientY];\n    const _previousMovement = state._movement;\n    state._movement = [event.scale - 1, event.rotation];\n    state._delta = V.sub(state._movement, _previousMovement);\n    this.compute(event);\n    this.emit();\n  }\n\n  gestureEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n\n  wheel(event) {\n    const modifierKey = this.config.modifierKey;\n    if (modifierKey && !event[modifierKey]) return;\n    if (!this.state._active) this.wheelStart(event);else this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n\n  wheelStart(event) {\n    this.start(event);\n    this.wheelChange(event);\n  }\n\n  wheelChange(event) {\n    const isR3f = ('uv' in event);\n\n    if (!isR3f) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n\n      if (process.env.NODE_ENV === 'development' && !event.defaultPrevented) {\n        console.warn(`[@use-gesture]: To properly support zoom on trackpads, try using the \\`target\\` option.\\n\\nThis message will only appear in development mode.`);\n      }\n    }\n\n    const state = this.state;\n    state._delta = [-wheelValues(event)[1] / PINCH_WHEEL_RATIO * state.offset[0], 0];\n    V.addTo(state._movement, state._delta);\n    this.state.origin = [event.clientX, event.clientY];\n    this.compute(event);\n    this.emit();\n  }\n\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    const device = this.config.device;\n\n    if (!!device) {\n      bindFunction(device, 'start', this[device + 'Start'].bind(this));\n      bindFunction(device, 'change', this[device + 'Move'].bind(this));\n      bindFunction(device, 'end', this[device + 'End'].bind(this));\n      bindFunction(device, 'cancel', this[device + 'End'].bind(this));\n    } else {\n      bindFunction('wheel', '', this.wheel.bind(this), {\n        passive: false\n      });\n    }\n  }\n\n}\n\nconst pinchConfigResolver = _objectSpread2(_objectSpread2({}, commonConfigResolver), {}, {\n  device(_v, _k, {\n    shared,\n    pointer: {\n      touch = false\n    } = {}\n  }) {\n    const sharedConfig = shared;\n    if (sharedConfig.target && !SUPPORT.touch && SUPPORT.gesture) return 'gesture';\n    if (SUPPORT.touch && touch) return 'touch';\n\n    if (SUPPORT.touchscreen) {\n      if (SUPPORT.pointer) return 'pointer';\n      if (SUPPORT.touch) return 'touch';\n    }\n  },\n\n  bounds(_v, _k, {\n    scaleBounds = {},\n    angleBounds = {}\n  }) {\n    const _scaleBounds = state => {\n      const D = assignDefault(call(scaleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n\n    const _angleBounds = state => {\n      const A = assignDefault(call(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n\n    if (typeof scaleBounds !== 'function' && typeof angleBounds !== 'function') return [_scaleBounds(), _angleBounds()];\n    return state => [_scaleBounds(state), _angleBounds(state)];\n  },\n\n  threshold(value, _k, config) {\n    this.lockDirection = config.axis === 'lock';\n    const threshold = V.toVector(value, this.lockDirection ? [0.1, 3] : 0);\n    return threshold;\n  },\n\n  modifierKey(value) {\n    if (value === undefined) return 'ctrlKey';\n    return value;\n  }\n\n});\n\nclass MoveEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'moving');\n  }\n\n  move(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    if (!this.state._active) this.moveStart(event);else this.moveChange(event);\n    this.timeoutStore.add('moveEnd', this.moveEnd.bind(this));\n  }\n\n  moveStart(event) {\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.computeInitial();\n    this.emit();\n  }\n\n  moveChange(event) {\n    if (!this.state._active) return;\n    const values = pointerValues(event);\n    const state = this.state;\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n\n  moveEnd(event) {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute(event);\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('pointer', 'change', this.move.bind(this));\n    bindFunction('pointer', 'leave', this.moveEnd.bind(this));\n  }\n\n}\n\nconst moveConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nclass ScrollEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'scrolling');\n  }\n\n  scroll(event) {\n    if (!this.state._active) this.start(event);\n    this.scrollChange(event);\n    this.timeoutStore.add('scrollEnd', this.scrollEnd.bind(this));\n  }\n\n  scrollChange(event) {\n    if (event.cancelable) event.preventDefault();\n    const state = this.state;\n    const values = scrollValues(event);\n    state._delta = V.sub(values, state._values);\n    V.addTo(state._movement, state._delta);\n    this.computeValues(values);\n    this.compute(event);\n    this.emit();\n  }\n\n  scrollEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('scroll', '', this.scroll.bind(this));\n  }\n\n}\n\nconst scrollConfigResolver = coordinatesConfigResolver;\n\nclass WheelEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'wheeling');\n  }\n\n  wheel(event) {\n    if (!this.state._active) this.start(event);\n    this.wheelChange(event);\n    this.timeoutStore.add('wheelEnd', this.wheelEnd.bind(this));\n  }\n\n  wheelChange(event) {\n    const state = this.state;\n    state._delta = wheelValues(event);\n    V.addTo(state._movement, state._delta);\n    const [ox, oy] = state.overflow;\n    const [dx, dy] = state._delta;\n    const [dirx, diry] = state._direction;\n\n    if (ox < 0 && dx > 0 && dirx < 0 || ox > 0 && dx < 0 && dirx > 0) {\n      state._movement[0] = state._movementBound[0];\n    }\n\n    if (oy < 0 && dy > 0 && diry < 0 || oy > 0 && dy < 0 && diry > 0) {\n      state._movement[1] = state._movementBound[1];\n    }\n\n    this.compute(event);\n    this.emit();\n  }\n\n  wheelEnd() {\n    if (!this.state._active) return;\n    this.state._active = false;\n    this.compute();\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('wheel', '', this.wheel.bind(this));\n  }\n\n}\n\nconst wheelConfigResolver = coordinatesConfigResolver;\n\nclass HoverEngine extends CoordinatesEngine {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"ingKey\", 'hovering');\n  }\n\n  enter(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    this.start(event);\n    this.computeValues(pointerValues(event));\n    this.compute(event);\n    this.emit();\n  }\n\n  leave(event) {\n    if (this.config.mouseOnly && event.pointerType !== 'mouse') return;\n    const state = this.state;\n    if (!state._active) return;\n    state._active = false;\n    const values = pointerValues(event);\n    state._movement = state._delta = V.sub(values, state._values);\n    this.computeValues(values);\n    this.compute(event);\n    state.delta = state.movement;\n    this.emit();\n  }\n\n  bind(bindFunction) {\n    bindFunction('pointer', 'enter', this.enter.bind(this));\n    bindFunction('pointer', 'leave', this.leave.bind(this));\n  }\n\n}\n\nconst hoverConfigResolver = _objectSpread2(_objectSpread2({}, coordinatesConfigResolver), {}, {\n  mouseOnly: (value = true) => value\n});\n\nconst EngineMap = new Map();\nconst ConfigResolverMap = new Map();\nfunction registerAction(action) {\n  EngineMap.set(action.key, action.engine);\n  ConfigResolverMap.set(action.key, action.resolver);\n}\nconst dragAction = {\n  key: 'drag',\n  engine: DragEngine,\n  resolver: dragConfigResolver\n};\nconst hoverAction = {\n  key: 'hover',\n  engine: HoverEngine,\n  resolver: hoverConfigResolver\n};\nconst moveAction = {\n  key: 'move',\n  engine: MoveEngine,\n  resolver: moveConfigResolver\n};\nconst pinchAction = {\n  key: 'pinch',\n  engine: PinchEngine,\n  resolver: pinchConfigResolver\n};\nconst scrollAction = {\n  key: 'scroll',\n  engine: ScrollEngine,\n  resolver: scrollConfigResolver\n};\nconst wheelAction = {\n  key: 'wheel',\n  engine: WheelEngine,\n  resolver: wheelConfigResolver\n};\n\nexport { ConfigResolverMap as C, EngineMap as E, SUPPORT as S, _objectSpread2 as _, _defineProperty as a, touchIds as b, chain as c, toHandlerProp as d, dragAction as e, pinchAction as f, hoverAction as h, isTouch as i, moveAction as m, parseProp as p, registerAction as r, scrollAction as s, toDomEventType as t, wheelAction as w };\n"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","EVENT_TYPE_MAP","pointer","start","change","end","mouse","touch","gesture","capitalize","string","toUpperCase","slice","actionsWithoutCaptureSupported","hasCapture","capture","actionKey","includes","toHandlerProp","device","action","deviceProps","pointerCaptureEvents","parseProp","prop","eventKey","substring","toLowerCase","passive","indexOf","replace","captureKey","toDomEventType","isTouch","event","getPointerType","pointerType","getCurrentTargetTouchList","Array","from","touches","e","_event$currentTarget","_event$currentTarget$","currentTarget","contains","call","getTouchList","type","changedTouches","targetTouches","getValueEvent","touchIds","map","identifier","pointerId","valueEvent","pointerValues","clientX","clientY","getEventDetails","payload","buttons","shiftKey","altKey","metaKey","ctrlKey","assign","v","args","noop","chain","fns","result","fn","assignDefault","fallback","BEFORE_LAST_KINEMATICS_DELAY","Engine","ctrl","state","computeValues","computeInitial","init","reset","shared","gestureEventStores","gestureTimeoutStores","config","handlers","ingKey","_active","active","_blocked","_force","_step","intentional","_movement","_distance","_direction","_delta","_bounds","Infinity","axis","undefined","memo","elapsedTime","direction","distance","overflow","_movementBound","velocity","movement","delta","timeStamp","lastOffset","offset","startTime","values","_values","transform","_initial","initial","dt","preventDefault","cancelable","pointerIds","size","locked","document","pointerLockElement","down","pressed","_absoluteDelta","Math","abs","V","addTo","axisIntent","_m0","_m1","threshold","t0","t1","hasCustomTransform","sign","v0","v1","restrictToAxis","previousOffset","gestureIsActive","first","last","bounds","setup","computeOffset","ox","oy","x0","x1","y0","y1","rubberband","computeRubberband","sub","computeMovement","absoluteDelta","clean","triggerAllEvents","handler","_defineProperty2","aliasKey","eventStore","timeoutStore","selectAxis","dx","dy","absDx","absDy","CoordinatesEngine","add","axisThreshold","lockDirection","identity","DEFAULT_RUBBERBAND","commonConfigResolver","enabled","eventOptions","_k","toVector","process","env","NODE_ENV","originalTransform","r","isFinite","console","warn","domTarget","Error","NaN","DEFAULT_AXIS_THRESHOLD","coordinatesConfigResolver","_v","current","HTMLElement","left","right","top","bottom","DISPLACEMENT","KEYS_DELTA_MAP","ArrowRight","factor","ArrowLeft","ArrowUp","ArrowDown","DragEngine","_pointerId","_pointerActive","_keyboardActive","_preventScroll","_delayed","swipe","tap","canceled","cancel","bind","boundRect","getBoundingClientRect","targetRect","setTimeout","compute","emit","pointerClean","isArray","pointerButtons","ctrlIds","setEventIds","pointerCapture","setPointerCapture","setupPointer","preventScrollAxis","setupScrollPrevention","delay","setupDelayTrigger","startPointerDrag","id","movementX","movementY","remove","hasPointerCapture","releasePointerCapture","_unused","setActive","tapsThreshold","filterTaps","dirx","diry","vx","vy","mx","my","svx","svy","sx","sy","sdt","duration","stopPropagation","preventScrollDelay","sourceEvent","style","window","getComputedStyle","touchAction","_unused2","pointerLock","requestPointerLock","sharedConfig","pointerMove","pointerUp","exitPointerLock","persistEvent","preventScroll","deltaFn","bindFunction","pointerDown","keyDown","keyUp","pointerClick","persist","isBrowser","createElement","supportsTouchEvents","isTouchScreen","navigator","maxTouchPoints","supportsPointerEvents","supportsPointerLock","supportsGestureEvents","GestureEvent","SUPPORT","touchscreen","DEFAULT_PREVENT_SCROLL_DELAY","DEFAULT_DRAG_DELAY","DEFAULT_SWIPE_VELOCITY","DEFAULT_SWIPE_DISTANCE","DEFAULT_SWIPE_DURATION","DEFAULT_DRAG_AXIS_THRESHOLD","pen","dragConfigResolver","lock","useTouch","experimental_preventWindowScrollY","swipeVelocity","swipeDistance","swipeDuration","scaleBounds","angleBounds","_scaleBounds","D","min","max","_angleBounds","A","modifierKey","mouseOnly","EngineMap","Map","ConfigResolverMap","registerAction","set","engine","resolver","dragAction"],"mappings":"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"}