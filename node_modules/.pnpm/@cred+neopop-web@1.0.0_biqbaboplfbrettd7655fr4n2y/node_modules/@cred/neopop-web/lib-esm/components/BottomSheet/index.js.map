{"version":3,"file":"index.js","sources":["../../../src/components/BottomSheet/index.tsx"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from 'react';\nimport BottomSheetControlled, {\n    BottomSheetControlledCustom,\n} from './components/BottomSheetControlled';\nimport { Prop as BottomSheetProp } from './types';\n\ninterface Prop extends Omit<BottomSheetProp, 'onCloseEnd'> {\n    onAfterClose?: () => void;\n}\n\nexport const useBottomSheet = ({\n    onAfterClose,\n    open,\n}: {\n    open: boolean;\n    onAfterClose?: () => void;\n}) => {\n    const [mounted, setMounted] = useState(false);\n\n    const handleCloseEnd = () => {\n        if (onAfterClose instanceof Function) {\n            onAfterClose();\n        }\n        setMounted(false);\n    };\n\n    useLayoutEffect(() => {\n        if (open) {\n            setMounted(true);\n        }\n    }, [open]);\n\n    useEffect(() => {\n        if (open) {\n            document.body.style.overflow = 'hidden';\n        }\n\n        return () => {\n            document.body.style.overflow = 'visible';\n        };\n    }, [open]);\n\n    return { mounted, handleCloseEnd };\n};\n\nconst BottomSheet = ({ children, onAfterClose, ...props }: Prop) => {\n    const { handleCloseEnd, mounted } = useBottomSheet({ onAfterClose, open: props.open });\n\n    if (!mounted) {\n        return null;\n    }\n\n    return (\n        <BottomSheetControlled onCloseEnd={handleCloseEnd} {...props}>\n            {children}\n        </BottomSheetControlled>\n    );\n};\n\nexport const BottomSheetCustom = ({ children, onAfterClose, ...props }: Prop) => {\n    const { handleCloseEnd, mounted } = useBottomSheet({ onAfterClose, open: props.open });\n\n    if (!mounted) {\n        return null;\n    }\n\n    return (\n        <BottomSheetControlledCustom onCloseEnd={handleCloseEnd} {...props}>\n            {children}\n        </BottomSheetControlledCustom>\n    );\n};\n\nexport default BottomSheet;\n"],"names":["useBottomSheet","onAfterClose","open","useState","mounted","setMounted","handleCloseEnd","Function","useLayoutEffect","useEffect","document","body","style","overflow","BottomSheet","children","props","React","BottomSheetCustom"],"mappings":"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"}